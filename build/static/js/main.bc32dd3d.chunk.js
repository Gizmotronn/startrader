(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{186:function(e,t,a){e.exports=a(603)},190:function(e,t,a){},603:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(19),c=a.n(l);a(190),Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var o=a(4),i=a.n(o),s=a(6),m=a(3),u=a(44),p=a(10),d=a(2),g=a(27),f=a(31),h=r.a.createContext(),b=a(73),E=a.n(b),y=Object(d.withStyles)((function(e){return{navBar:{display:"flex",padding:".75rem 1.5rem",justifyContent:"space-between",alignItems:"center"},navLinks:{display:"inline-block"},mainTitle:{fontSize:"3rem",display:"inline-block",margin:0,paddingRight:"1rem"},secondary:{padding:" 0 .5rem",fontSize:"1.5rem",fontWeight:600},icon:{fontSize:"1.5rem",position:"relative",top:5},dropdown:Object(g.a)({position:"absolute",zIndex:5,right:15,top:50},"& ul",{listStyleType:"none",margin:0,padding:"1rem"}),modal:{position:"fixed",top:0,bottom:0,left:0,right:0,zIndex:4}}}))((function(e){var t=e.classes,a=Object(n.useContext)(h),l=a.logout,c=a.user,o=Object(n.useState)(!1),i=Object(m.a)(o,2),s=i[0],u=i[1],p=function(e){u(!s)};return r.a.createElement(d.Header,{animate:!0,layer:"header"},r.a.createElement("nav",{className:t.navBar},r.a.createElement("div",{className:t.navLinks},r.a.createElement(d.Link,{href:"/"},r.a.createElement(d.Heading,{node:"h2",style:{fontSize:"1.75rem"},className:"".concat(t.mainTitle," title-style")},"StarTrader")),r.a.createElement(d.Link,{href:"/",className:t.secondary},"Marketplace"),r.a.createElement(d.Link,{href:"/sell-ship",className:t.secondary},"Sell Ship")),c?r.a.createElement("div",null,r.a.createElement(d.Link,null,r.a.createElement(f.c,{className:t.icon,onClick:p})),s?r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:t.dropdown},r.a.createElement(d.Frame,{animate:!0,level:3,corners:4,onClick:p},r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(d.Link,{href:"/profile"},"Profile")),r.a.createElement("li",null,r.a.createElement(d.Link,{href:"/sell-ship"},"Sell Ship")),r.a.createElement("li",null,r.a.createElement(d.Link,{href:"/logout",onClick:function(){l()}},"Logout"))))),r.a.createElement("div",{className:t.modal,onClick:p})):""):r.a.createElement("div",null,r.a.createElement(d.Link,{href:"/login"},r.a.createElement(E.a,{style:{width:100,textAlign:"center"}},"Login")),r.a.createElement(d.Link,{href:"/signup"},r.a.createElement(E.a,{style:{width:100,textAlign:"center"}},"Sign Up")))))})),v=function(){var e={footerContainer:{position:"static",maxheight:"100vh",width:"100%"},footerContent:{padding:".5rem 2rem 1rem",display:"flex",alignItems:"center",githubIcon:{position:"relative",top:6,fontSize:30,paddingRight:".75rem"},about:{margin:0}}};return r.a.createElement(d.Footer,{animate:!0,style:e.footerContainer},r.a.createElement(d.Content,{style:e.footerContent},r.a.createElement(d.Link,{href:"https://github.com/bpmutter/sw-trader-frontend",target:"_blank",style:e.footerContent.githubIcon},r.a.createElement(f.a,null)),r.a.createElement("p",{style:e.footerContent.about},"Made with great force focus by"," ",r.a.createElement(d.Link,{href:"https://bradsimpson213.github.io/bradsimpson/",target:"_blank"},"Brad Simpson")," ","and"," ",r.a.createElement(d.Link,{href:"http://ben.perlmutter.io/",target:"_blank"},"Ben Perlmutter"),"."," ")))},j=function(e){var t=e.ship,a=e.hideOwner,n={wrapper:{margin:"1rem"},frame:{maxWidth:275,display:"inline-block","&::hover":{transform:"scale(1.1)"}},img:{cursor:"pointer",maxWidth:275},content:{cursor:"default",padding:".5rem 1rem",title:{textAlign:"center"},additionalInfo:{display:"flex",flexDirection:"row",justifyContent:"space-between"}}};return console.log(t),r.a.createElement(d.Content,{style:n.wrapper},r.a.createElement(d.Frame,{animate:!0,hover:!0,style:n.img},r.a.createElement("a",{href:"/listings/".concat(t.id)},r.a.createElement(d.Image,{animate:!0,resources:t.starship_type.ship_image,layer:"primary",style:n.img})),r.a.createElement(d.Content,{style:n.content},r.a.createElement("h3",{style:n.content.title},r.a.createElement("a",{href:"/listings/".concat(t.id)},t.custom_name||t.starship_type.type_name)),r.a.createElement("p",{style:n.content.additionalInfo},r.a.createElement("h6",null,t.sale_price," credits"),r.a.createElement("span",null,r.a.createElement("h5",null,r.a.createElement(d.Words,{layer:"success"},t.for_sale?"For Sale":"")))),!a&&r.a.createElement("p",null,"Listing by ",r.a.createElement("a",{href:"/users/".concat(t.user.id)},t.user.name)))))},x=a(72),O=a.n(x),k=function(e){var t=e.title,a=e.ships,n=e.hideOwner,l={container:{padding:"1rem",minWidth:275},listings:{display:"flex",flexWrap:"wrap",justifyContent:"space-evenly"}};return r.a.createElement(d.Content,{style:l.container},r.a.createElement(d.Heading,{node:"h2",style:{textAlign:"center"}},t),a?r.a.createElement(d.Content,{style:l.listings},a.length?a.map((function(e){return r.a.createElement(j,{ship:e,hideOwner:n})})):r.a.createElement("p",null,"No ships yet!")):r.a.createElement(O.a,null))},C=function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://star-trader-server.herokuapp.com","/ships/all"));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,l(a.star_ships.reverse().slice(0,9));case 7:case"end":return e.stop()}}),e)})))()}),[]),r.a.createElement(k,{title:"Latest Listings",ships:a})},w=function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),a=t[0],l=t[1];return Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://star-trader-server.herokuapp.com","/ships/uniques"));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,l(a.star_ships);case 7:case"end":return e.stop()}}),e)})))()}),[]),r.a.createElement(k,{title:"Unique Listings",ships:a})},S=function(e){var t=e.type,a=Object(n.useState)(null),l=Object(m.a)(a,2),c=l[0],o=l[1];return Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("TYPE::",t),e.next=3,fetch("".concat("https://star-trader-server.herokuapp.com","/ships/class/").concat(t));case 3:return a=e.sent,e.next=6,a.json();case 6:n=e.sent,o(n.star_ships),console.log("LATEST SHIPS::",n.star_ships);case 9:case"end":return e.stop()}}),e)})))()}),[t]),r.a.createElement(k,{title:"".concat(t,"s"),ships:c})},_=function(){var e={main:{display:"flex",flexDirection:"column",alignItems:"center",marginBottom:"3rem"},frame:{margin:".75rem",maxWidth:1200},wrapper:{display:"flex",justifyContent:"center",flexDirection:"row",flexWrap:"no-wrap",margin:"3rem",maxWidth:800,xOverflow:"auto"},button:{margin:".5rem .5rem"}},t=Object(n.useState)("latest"),a=Object(m.a)(t,2),l=a[0],c=a[1];return r.a.createElement("main",{style:e.main},r.a.createElement("div",{style:e.wrapper},r.a.createElement(d.Button,{style:e.button,onClick:function(){c("latest")}},"Latest"),r.a.createElement(d.Button,{style:e.button,onClick:function(){c("unique")}},"Unique"),r.a.createElement(d.Button,{style:e.button,onClick:function(){c("Starfighter")}},"Starfighters"),r.a.createElement(d.Button,{style:e.button,onClick:function(){c("Star Dreadnought")}},"Dreadnoughts"),r.a.createElement(d.Button,{style:e.button,onClick:function(){c("Star Cruiser")}},"Cruisers"),r.a.createElement(d.Button,{style:e.button,onClick:function(){c("Freighter")}},"Freighters"),r.a.createElement(d.Button,{style:e.button,onClick:function(){c("Transport")}},"Transports")),r.a.createElement(d.Frame,{animate:!0,level:3,corners:4,layer:"primary",style:e.frame},"latest"===l&&r.a.createElement(C,null),"unique"===l&&r.a.createElement(w,null),"unique"!==l&&"latest"!==l&&r.a.createElement(S,{type:l})))},I=Object(d.withStyles)({wrapper:{position:"fixed",width:500,height:200,top:"50%",left:"50%",marginTop:-100,marginLeft:-250}})((function(e){var t=e.classes;return r.a.createElement("div",{className:t.wrapper},r.a.createElement(d.Loading,{animate:!0}),r.a.createElement(d.Loading,{animate:!0,small:!0}),r.a.createElement("div",{style:{position:"relative",width:200,height:200}},r.a.createElement(d.Loading,{animate:!0,full:!0})))})),N=a(51),T=a.n(N),P={color:{primary:{base:"#26dafd",baseRGB:[38,218,253]},background:{main:"#021114"}},font:{fontFamily:{title:"star_jediregular",regular:"'Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif"},baseSize:21}},B=a(59),F=a.n(B),L=Object(d.withStyles)({labelText:{width:160,display:"inline-block",paddingRight:"1rem",textAlign:"right"}})((function(e){var t=e.classes,a=e.label,n=e.required;return r.a.createElement(F.a,{layer:"primary"},r.a.createElement("span",{className:t.labelText},a,n?r.a.createElement("span",null,r.a.createElement(F.a,{layer:"alert"},"*")):""))})),W=Object(d.withStyles)((function(e){return{labelText:{width:150,display:"inline-block",paddingRight:"1rem",textAlign:"right"},select:{display:"inline-block",margin:[5,0],height:30,width:230,border:"none",outline:"none",boxShadow:"none",cursor:"pointer",backgroundColor:P.color.background.main,color:P.color.primary.base,fontSize:P.font.baseSize,lineHeight:"30px"},frame:{width:"auto",padding:"0 3px",display:"inline-block"}}}))((function(e){var t=e.classes,a=e.label,n=e.onChange,l=e.name,c=e.options,o=e.optionValueId,i=e.optionInnerContent,s=e.required,m=e.selected;return r.a.createElement("div",null,r.a.createElement("label",null,r.a.createElement(L,{label:a,required:s}),r.a.createElement(d.Frame,{show:!0,animate:!0,corners:4,className:t.frame},r.a.createElement("select",{name:l,onChange:n,className:t.select,required:s},c.map((function(e){return r.a.createElement("option",{name:l,value:e[o],selected:m===e[o]},e[i])}))))))})),q=function(e){var t={container:{display:"flex",justifyContent:"flex-start"},labelText:{width:150,display:"inline-block",paddingRight:"1rem",textAlign:"right",alignSelf:"flex-end"},inputFrame:{width:e.width,padding:"5px 3px",display:"inline-block"},input:{height:"textarea"===e.type?125:"100%",width:"100%",margin:0,outline:"none",border:"none",backgroundColor:P.color.background.main,color:P.color.primary.base,fontSize:P.font.baseSize}};return r.a.createElement("p",{styles:t.container},r.a.createElement("label",{for:e.name},r.a.createElement(L,{label:e.label,required:e.required})),r.a.createElement(d.Frame,{show:!0,animate:!0,corners:4,style:t.inputFrame},r.a.createElement("input",{style:t.input,type:e.type,name:e.name,onChange:e.onChange,required:e.required,value:e.value})))},A=a(8),R=a.n(A)()({radio:{display:"inline-block",padding:[0,10]}})((function(e){var t=e.classes,a=e.name,n=e.value,l=e.label,c=e.onChange,o=e.checked;return r.a.createElement("div",{className:t.radio},r.a.createElement(d.Words,{layer:"primary"},r.a.createElement("label",null,r.a.createElement("input",{name:a,type:"radio",value:n,checked:o,onChange:c}),l)))})),z=function(e){var t={container:{display:"flex",justifyContent:"flex-start"},labelText:{width:150,display:"inline-block",paddingRight:"1rem",textAlign:"right",alignSelf:"flex-end"},inputFrame:{width:e.width,padding:"5px 3px",display:"inline-block"},input:{height:"textarea"===e.type?125:"100%",width:"100%",margin:0,outline:"none",border:"none",backgroundColor:P.color.background.main,color:P.color.primary.base,fontSize:P.font.baseSize,fontFamily:"'Segoe UI','Roboto','Oxygen','Ubuntu','Cantarell','Fira Sans','Droid Sans','Helvetica Neue',sans-serif"}};return r.a.createElement("p",{styles:t.container},r.a.createElement("label",{for:e.name},r.a.createElement(L,{label:e.label,required:e.required})),r.a.createElement(d.Frame,{show:!0,animate:!0,corners:4,style:t.inputFrame},r.a.createElement("textarea",{style:t.input,type:e.type,name:e.name,onChange:e.onChange,required:e.required,value:e.value})))};T.a.setAppElement("#root");var U=Object(m.a)(P.color.primary.baseRGB,3),D=U[0],H=U[1],J=U[2],M={overlay:{backgroundColor:"rgba(".concat(D,",").concat(J,",").concat(H,",.15)")},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"auto",border:"none",backgroundColor:"transparent",padding:0}},Y={container:{maxWidth:600,margin:"0 auto",backgroundColor:"none",overflow:"none"},title:{textAlign:"center",margin:"1rem"},contentWrapper:{margin:"2rem"},frame:{backgroundColor:P.color.background.main,margin:"5px"}},G=function(e){var t=e.listing,a=e.rerenderParent;console.log("LISTING:: ",t);var l=Object(n.useState)(),c=Object(m.a)(l,2),o=(c[0],c[1],Object(n.useState)([])),u=Object(m.a)(o,2),p=u[0],g=u[1],b=Object(n.useState)(t.ship_type),E=Object(m.a)(b,2),y=E[0],v=E[1],j=Object(n.useState)(t.custom_name),x=Object(m.a)(j,2),O=x[0],k=x[1],C=Object(n.useState)(t.sale_price),w=Object(m.a)(C,2),S=w[0],_=w[1],I=Object(n.useState)(t.lightyears_traveled),N=Object(m.a)(I,2),P=N[0],B=N[1],F=Object(n.useState)(t.seller_comment),A=Object(m.a)(F,2),U=A[0],D=A[1],H=Object(n.useState)(t.for_sale?"true":"false"),J=Object(m.a)(H,2),G=J[0],V=J[1],$=Object(n.useState)(null),K=Object(m.a)($,2),Q=K[0],X=K[1],Z=Object(n.useState)(!1),ee=Object(m.a)(Z,2),te=ee[0],ae=ee[1],ne=Object(n.useContext)(h),re=ne.user.id,le=ne.token;Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t,a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://star-trader-server.herokuapp.com","/ships/types"));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n=a.ship_types,r=n.filter((function(e){return!1===e.unique})),g(r);case 9:case"end":return e.stop()}}),e)})))()}),[]);var ce=function(e){switch(e.target.name){case"ship_type":v(e.target.value);break;case"custom_name":k(e.target.value);break;case"sale_price":_(e.target.value);break;case"lightyears_traveled":B(e.target.value);break;case"for_sale":V(e.target.value);break;case"seller_comment":D(e.target.value);break;default:return}},oe=function(){var e=Object(s.a)(i.a.mark((function e(n){var r,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),e.prev=1,e.next=4,fetch("".concat("https://star-trader-server.herokuapp.com","/ships/update/").concat(t.id),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:le},body:JSON.stringify({ship_type:y,custom_name:O,sale_price:parseInt(S),lightyears_traveled:parseInt(P),seller_comment:U,for_sale:"true"===G,owner:re})});case 4:return r=e.sent,e.next=7,r.json();case 7:if(!(l=e.sent).error){e.next=13;break}return X(l.error),e.abrupt("return");case 13:ie(),a();case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(1),console.error("NEW ERROR::",e.t0),alert("Oh no, it looks like there was some force interference causing problems with our server. Please try again later.");case 21:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}();function ie(){ae(!1)}return r.a.createElement("div",null,r.a.createElement(d.Content,null,r.a.createElement(d.Button,{onClick:function(){ae(!0)}},"Edit Listing"),r.a.createElement(T.a,{isOpen:te,onRequestClose:ie,style:M,contentLabel:"Example Modal"},r.a.createElement(d.Content,{style:Y.container},r.a.createElement(d.Frame,{animate:!0,level:3,corners:4,style:Y.frame},r.a.createElement("div",{style:Y.contentWrapper},r.a.createElement(d.Button,{onClick:ie},r.a.createElement(f.b,null)),r.a.createElement(d.Heading,{node:"h2",style:Y.title},"Update Your Listing"),r.a.createElement("div",{style:{padding:".75rem .75rem .75rem",textAlign:"center"}},r.a.createElement(d.Words,{animate:!0,layer:"alert"},Q||" ")),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:oe,style:Y.loginForm},r.a.createElement(W,{label:"Ship Type: ",name:"ship_type",onChange:ce,options:p,optionValueId:"id",optionInnerContent:"type_name",required:!0,selected:y}),r.a.createElement(q,{label:"Custom Name: ",type:"text",name:"custom_name",onChange:ce,value:O}),r.a.createElement(q,{label:"Price: ",type:"number",name:"sale_price",onChange:ce,required:!0,value:S}),r.a.createElement(q,{label:"Lightyears Traveled: ",type:"number",name:"lightyears_traveled",onChange:ce,required:!0,value:P}),r.a.createElement("p",{style:{padding:".5rem 0"}},r.a.createElement(L,{label:"For Sale: ",required:!0}),r.a.createElement(R,{name:"for_sale",value:"true",checked:"true"===G,onChange:ce,label:"Yes"}),r.a.createElement(R,{name:"for_sale",value:"false",checked:"false"===G,onChange:ce,label:"Not Right Now"})),r.a.createElement(z,{label:"Comment: ",type:"textarea",name:"seller_comment",onChange:ce,value:U}),r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement(d.Button,null,"Update Listing"))))))))))};T.a.setAppElement("#root");var V=Object(m.a)(P.color.primary.baseRGB,3),$=V[0],K=V[1],Q=V[2],X={overlay:{backgroundColor:"rgba(".concat($,",").concat(Q,",").concat(K,",.15)")},content:{top:"50%",left:"50%",right:"auto",bottom:"auto",marginRight:"-50%",transform:"translate(-50%, -50%)",width:"auto",border:"none",padding:0,backgroundColor:"transparent",color:P.color.primary.base,fontFamily:P.font.fontFamily.regular,fontSize:P.font.baseSize}},Z={container:{maxWidth:600,margin:"0 auto",backgroundColor:"none",overflow:"none"},title:{textAlign:"center",margin:"1rem"},contentWrapper:{margin:"2rem"},frame:{backgroundColor:P.color.background.main,margin:"2rem"}},ee=function(e){var t=e.children,a=e.buttonText,l=e.buttonLayer,c=e.contentLabel,o=Object(n.useState)(!1),i=Object(m.a)(o,2),s=i[0],u=i[1],p=r.a.Children.toArray(t);function g(){u(!0)}function f(){u(!1)}return 1===p.length?p=r.a.cloneElement(p[0],{openModal:function(){return g()},closeModal:function(){return f()}}):p.length>0&&(p=p.map((function(e){return r.a.cloneElement(e,{openModal:function(){return g()},closeModal:function(){return f()}})}))),r.a.createElement("div",null,r.a.createElement(d.Content,null,r.a.createElement(d.Button,{onClick:g,layer:l},a),r.a.createElement(T.a,{isOpen:s,onRequestClose:f,style:X,contentLabel:c||""},r.a.createElement(d.Content,{style:Z.container},r.a.createElement(d.Frame,{animate:!0,level:3,corners:4,style:Z.frame},p)))))},te={wrapper:{padding:"2rem"},buttonContainer:{paddingTop:"1rem",display:"flex",justifyContent:"space-evenly"},exitButton:{float:"right",postion:"relative",bottom:15}},ae=function(e){var t=e.ship,a=e.rerenderParent,l=e.closeModal,c=Object(n.useContext)(h),o=c.user,m=c.id,u=c.token,p=o.credit>=t.sale_price,g=t.custom_name||t.starship_type.type_name,b=function(){var e=Object(s.a)(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://star-trader-server.herokuapp.com","/transactions"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:u},body:JSON.stringify({buyer:m,seller:t.user.id,starship:t.id,sale_price:t.sale_price})});case 2:n=e.sent,n.json().error?alert("It looks like there was some force interference and your transaction could not be processed. Please try again later."):(l(),a());case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:te.wrapper},r.a.createElement(d.Button,{onClick:l,style:te.exitButton},r.a.createElement(f.b,null)),r.a.createElement(d.Heading,{node:"h3"},"Buy ",g),m?p?r.a.createElement("div",null,r.a.createElement("p",null,"Are you sure you want to buy ",g,"?"),r.a.createElement("p",null,"The ship costs ",t.sale_price,", and you have ",o.credit,". After this purchase you will have ",o.credit-t.sale_price," ","credits remaining."),r.a.createElement("div",null,r.a.createElement(d.Button,{onClick:b},"Buy Ship"))):r.a.createElement("div",null,r.a.createElement("p",null,"It looks like you don't have enough credits to buy ",g,"."),r.a.createElement("p",null,g," costs ",t.sale_price," credits."),r.a.createElement("p",null,"Your current credit balance is: ",o.credit),r.a.createElement("p",null,"You can add credits on your profile page."),r.a.createElement(d.Link,{href:"/profile"},r.a.createElement(d.Button,null,"Go to Profile"))):r.a.createElement("div",null,r.a.createElement("p",null,"It looks like you're not logged in. Please log in or create an account to buy ",g,"."),r.a.createElement("div",{style:te.buttonContainer},r.a.createElement(d.Link,{href:"/login"},r.a.createElement(d.Button,null,"Log In")),r.a.createElement(d.Link,{href:"/signup"},r.a.createElement(d.Button,null,"Sign Up")))))},ne=function(e){var t=e.rerenderParent,a=e.ship;return r.a.createElement(ee,{buttonText:"Buy Ship",buttonLayer:"success"},r.a.createElement(ae,{ship:a,rerenderParent:t}))},re=Object(d.withStyles)((function(e){return{contentInFrame:{padding:"1.5rem"},container:Object(g.a)({padding:"1.5rem",display:"grid",gridTemplateColumns:"3fr 2fr",gridTemplateRows:"auto auto",gridAutoRows:"minmax(300px, auto)"},"@media (max-width: ".concat(e.responsive.medium+1,"px)"),{gridTemplateColumns:"1fr",gridTemplateRows:"auto auto auto auto"}),img:Object(g.a)({maxWidth:"100%",margin:".75rem",gridColumn:"1/2",gridRow:"1 /2"},"@media (max-width: ".concat(e.responsive.medium+1,"px)"),{gridColumn:"1/2",gridRow:"1 /2"}),infoWrapper:Object(g.a)({width:"100%",height:"100%",margin:".75rem",padding:"1rem",gridColumn:"2/3",gridRow:"1 /3"},"@media (max-width: ".concat(e.responsive.medium+1,"px)"),{gridColumn:"1/2",gridRow:"2/3",margin:0}),mainInfo:{marginBottom:"1rem"},seller:{gridColumn:"2/3"},sellerContent:{padding:".5rem",display:"grid",gridTemplateColumns:"2fr 3fr"},sellerImg:{gridColumn:"1/2",margin:".5rem",maxWidth:150,display:"flex",justifyContent:"center",alignItems:"center"},sellerInfo:{gridColumn:"2/3",padding:".5rem"},additionalInfo:Object(g.a)({padding:".5rem",gridColumn:"1/2",gridRow:"2 / 3",height:"100%"},"@media (max-width: ".concat(e.responsive.medium+1,"px)"),{gridColumn:"1/2",gridRow:"3/4"})}}))((function(e){var t=e.classes,a=parseInt(Object(p.g)().id),l=Object(n.useContext)(h),c=l.id,o=(l.user,Object(n.useState)({})),u=Object(m.a)(o,2),g=u[0],f=u[1];Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://star-trader-server.herokuapp.com","/ships/").concat(a));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,r=n.star_ship,console.log(r),f(r);case 9:case"end":return e.stop()}}),e)})))()}),[a,g.id]);var b=function(){var e=Object(s.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://star-trader-server.herokuapp.com","/ships/").concat(a));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,r=n.star_ship,console.log(r),f(r);case 9:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement(r.a.Fragment,null,g.id?r.a.createElement(d.Content,{className:t.container},r.a.createElement("div",{className:t.img},r.a.createElement(d.Image,{animate:!0,layer:"primary",resources:g.starship_type.ship_image})),r.a.createElement("div",{className:t.infoWrapper},r.a.createElement(d.Content,{className:t.mainInfo},r.a.createElement(d.Frame,{animate:!0,level:3,corners:4},r.a.createElement(d.Content,{className:t.contentInFrame},r.a.createElement("div",{style:{display:"flex",justifyContent:"space-between"}},r.a.createElement("h1",null,g.custom_name||g.starship_type.type_name),g.user.id===c?g.for_sale?r.a.createElement(d.Button,{animate:!0,layer:"success"},"For Sale"):r.a.createElement(d.Button,{animate:!0,disabled:!0},"Not For Sale"):null),r.a.createElement("p",null,"Price: ",g.sale_price," credits"),r.a.createElement("p",null,"Lightyears Traveled: ",g.lightyears_traveled),r.a.createElement("p",null,"Type: ",g.starship_type.type_name),r.a.createElement("p",null,"Model: ",g.starship_type.model),r.a.createElement("p",null,"Manufacturer: ",g.starship_type.manufacturer),r.a.createElement("p",null,"Class: ",g.starship_type.starship_class),r.a.createElement("p",null,"Seller Comment: ",g.seller_comment),r.a.createElement("p",null,g.user.id===c?r.a.createElement(G,{listing:g}):g.for_sale?r.a.createElement(ne,{ship:g,rerenderParent:b}):r.a.createElement(d.Button,{animate:!0,disabled:!0},"Not For Sale"))))),r.a.createElement(d.Content,{className:t.seller},r.a.createElement(d.Frame,{animate:!0,level:3,corners:4},r.a.createElement(d.Content,{className:t.sellerContent},r.a.createElement(d.Content,{className:t.sellerImg},r.a.createElement(d.Image,{resources:g.user.user_image})),r.a.createElement(d.Content,{className:t.sellerInfo},r.a.createElement("h2",null,"Seller Info"),r.a.createElement("p",null,g.user.name),r.a.createElement(d.Link,{href:"/users/".concat(g.user.id)},r.a.createElement(d.Button,null,"Go to Profile"))))))),r.a.createElement("div",{className:t.additionalInfo},r.a.createElement(d.Frame,{animate:!0,level:3,corners:4},r.a.createElement(d.Content,{className:t.contentInFrame},r.a.createElement("h3",null,"Additional Info"),r.a.createElement("div",null,r.a.createElement("h4",null,"Capacity"),r.a.createElement("ul",null,r.a.createElement("li",null,"Cargo: ",g.starship_type.cargo),r.a.createElement("li",null,"Consumables: ",g.starship_type.consumables),r.a.createElement("li",null,"Crew: ",g.starship_type.crew),r.a.createElement("li",null,"Passengers: ",g.starship_type.passengers),r.a.createElement("li",null,"Length: ",g.starship_type.length))),r.a.createElement("div",null,r.a.createElement("h4",null,"Speed"),r.a.createElement("ul",null,r.a.createElement("li",null,"Base speed: ",g.starship_type.mglt),r.a.createElement("li",null,"Hyperdrive Rating:"," ",g.starship_type.hyperdrive_rating))))))):r.a.createElement(I,null))})),le=function(e){var t=e.name,a=e.id,l=e.user,c=Object(n.useState)([]),o=Object(m.a)(c,2),u=o[0],p=o[1];return Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://star-trader-server.herokuapp.com","/ships/user/").concat(a));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,p(n.star_ships),console.log("SHIPS::",u),u.forEach((function(e){return e.user=l}));case 9:case"end":return e.stop()}}),e)})))()}),[t,u.length,a]),r.a.createElement(k,{hideOwner:!0,title:"".concat(t,"'s Ships"),ships:u})},ce=function(e){var t=e.closeModal,a=e.renderProfile,l={container:{padding:"2rem",maxWidth:600,margin:"0 auto"},title:{textAlign:"center",margin:"1rem"},contentWrapper:{margin:"1rem"}},c=Object(n.useState)(""),o=Object(m.a)(c,2),u=o[0],p=o[1],g=Object(n.useState)(""),b=Object(m.a)(g,2),E=b[0],y=(b[1],Object(n.useState)("")),v=Object(m.a)(y,2),j=v[0],x=(v[1],Object(n.useState)("")),O=Object(m.a)(x,2),k=O[0],C=O[1],w=Object(n.useState)(1),S=Object(m.a)(w,2),_=S[0],I=S[1],N=Object(n.useState)(""),T=Object(m.a)(N,2),P=T[0],B=T[1],F=Object(n.useState)("rebellion"),A=Object(m.a)(F,2),U=A[0],D=A[1],H=Object(n.useState)([]),J=Object(m.a)(H,2),M=J[0],Y=J[1],G=Object(n.useState)(""),V=Object(m.a)(G,2),$=V[0],K=V[1],Q=Object(n.useState)(null),X=Object(m.a)(Q,2),Z=X[0],ee=X[1],te=Object(n.useState)(!0),ae=Object(m.a)(te,2),ne=(ae[0],ae[1]),re=Object(n.useContext)(h),le=re.id,ce=re.logout,oe=re.token;Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t,a,n,r,l,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://star-trader-server.herokuapp.com","/users/").concat(le));case 2:return t=e.sent,e.next=5,t.json();case 5:return a=e.sent,n=a.user,C(n.name),p(n.email),I(n.species),B(n.bio),D(n.faction?"rebellion":"empire"),K(n.user_image),e.next=15,fetch("".concat("https://star-trader-server.herokuapp.com","/users/species"));case 15:return r=e.sent,e.next=18,r.json();case 18:l=e.sent,c=l.species,Y(c);case 21:case"end":return e.stop()}}),e)})))()}),[le]);var ie=function(e){"email"===e.target.name?p(e.target.value):"name"===e.target.name?C(e.target.value):"species"===e.target.name?I(e.target.value):"bio"===e.target.name?B(e.target.value):"faction"===e.target.name&&("rebellion"===e.target.value?D("rebellion"):D("empire"))},se=function(){var e=Object(s.a)(i.a.mark((function e(n){var r,l;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.preventDefault(),(E||j)&&E!==j&&ee("Please make sure that you have entered the new password correctly."),console.table(u,k,_,P,U),e.next=5,fetch("".concat("https://star-trader-server.herokuapp.com","/users/update/").concat(le),{method:"PUT",headers:{"Content-Type":"application/json",Authorization:oe},body:JSON.stringify({email:u,name:k,species:_,bio:P,faction:"rebellion"===U,user_image:$})});case 5:r=e.sent,(l=r.json()).error?ee(l.error):(t(),a());case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),me=function(){var e=Object(s.a)(i.a.mark((function e(){var t,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://star-trader-server.herokuapp.com","/users/delete/").concat(le),{method:"DELETE",headers:{"Content-Type":"application/json",Authorization:oe}});case 2:return t=e.sent,e.next=5,t.json();case 5:(a=e.sent).error?ee(a.error):(ce(),ne(!1));case 7:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:l.contentWrapper},r.a.createElement(d.Button,{onClick:t},r.a.createElement(f.b,null)),r.a.createElement(d.Heading,{node:"h2",style:l.title},"Edit Profile"),r.a.createElement("div",{style:{padding:".75rem .75rem 1.5rem",textAlign:"center"}},r.a.createElement(d.Words,{animate:!0,layer:"alert"},Z||" ")),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:se,style:l.loginForm},r.a.createElement(q,{label:"Email: ",type:"email",name:"email",onChange:ie,required:!0,value:u}),r.a.createElement(q,{label:"Name: ",type:"text",name:"name",onChange:ie,required:!0,value:k}),r.a.createElement(W,{label:"Species: ",name:"species",onChange:ie,options:M,optionValueId:"id",optionInnerContent:"species_type",required:!0,selected:_}),r.a.createElement("p",{style:{padding:".5rem 0"}},r.a.createElement(L,{label:"Faction: ",required:!0}),r.a.createElement(R,{name:"faction",value:"rebellion",checked:"rebellion"===U,onChange:ie,label:"Rebellion"}),r.a.createElement(R,{name:"faction",value:"empire",checked:"empire"===U,onChange:ie,label:"Empire"})),r.a.createElement(z,{label:"Bio: ",type:"textarea",name:"bio",onChange:ie,required:!0,value:P}),r.a.createElement(q,{label:"New Password: ",type:"password",name:"password",onChange:ie}),r.a.createElement(q,{label:"Confirm New Password: ",type:"password",name:"confirmPassword",onChange:ie,required:!0}),r.a.createElement("p",{style:{marginTop:"2rem",textAlign:"center",display:"flex",justifyContent:"space-around"}},r.a.createElement(d.Button,{onClick:se},"Update Profile"),r.a.createElement(d.Button,{layer:"alert",onClick:me},"Delete Account")))))},oe=function(e){e.user;var t=e.renderProfile;return r.a.createElement(ee,{buttonText:"Edit Profile"},r.a.createElement(ce,{renderProfile:function(){return t()}}))},ie=Object(d.withStyles)((function(e){var t;return{profileWrapper:(t={margin:"1rem 10rem 4rem"},Object(g.a)(t,"@media (max-width: ".concat(e.responsive.medium+1,"px)"),{margin:"1rem 5rem"}),Object(g.a)(t,"@media (max-width: ".concat(e.responsive.small+1,"px)"),{margin:"1rem"}),t),profileContentWrapper:{margin:"1rem 0rem"},profileContent:Object(g.a)({padding:".75rem",display:"grid",gridTemplateColumns:"1fr 3fr",alignItems:"center",justifyItems:"center"},"@media (max-width: ".concat(e.responsive.small+1,"px)"),{gridTemplateColumns:"1fr"}),profilePicture:{maxWidth:250,marginTop:"1rem"},profileInfo:{padding:"1rem",width:"100%"},profileName:{display:"flex",justifyContent:"space-between"}}}))((function(e){var t=e.classes,a=e.personalProfile,l=parseInt(Object(p.g)().id),c=Object(n.useContext)(h),o=c.id;console.log("context",l,c),console.log("context ID::",o);var u=Object(n.useState)({}),g=Object(m.a)(u,2),f=g[0],b=g[1];Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://star-trader-server.herokuapp.com","/users/").concat(a?o:l));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,r=n.user,console.log("USER::",r),b(r);case 9:case"end":return e.stop()}}),e)})))()}),[l,a,o,f.id]);return console.table([l,o]),l===o?r.a.createElement(p.a,{to:"/profile"}):r.a.createElement(r.a.Fragment,null,f.id?r.a.createElement(d.Content,{className:t.profileWrapper},r.a.createElement("div",{className:t.profileContentWrapper},r.a.createElement(d.Frame,{animate:!0,level:3,corners:4},r.a.createElement("section",{className:t.profileContent},r.a.createElement(d.Image,{resources:f.user_image,animate:!0,layer:"primary",className:t.profilePicture}),r.a.createElement("div",{className:t.profileInfo},r.a.createElement("div",{className:t.profileName},r.a.createElement("h1",null,f.name),a?r.a.createElement(oe,{renderProfile:function(){Object(s.a)(i.a.mark((function e(){var t,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://star-trader-server.herokuapp.com","/users/").concat(a?o:l));case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,r=n.user,console.log("USER::",r),b(r);case 9:case"end":return e.stop()}}),e)})))()}}):null),a?r.a.createElement("p",null,f.credit," credits"):"",r.a.createElement("p",{className:t.profileAdditionalInfo},r.a.createElement("span",null,f.species_info.species_type)," \u2022 ",r.a.createElement("span",null,f.faction?"Rebellion":"Empire")),r.a.createElement("p",{className:t.profileBio},f.bio))))),r.a.createElement("section",null,r.a.createElement(le,{name:f.name,id:f.id,user:f})),r.a.createElement("section",null)):r.a.createElement(I,null))})),se=function(){var e={background:{padding:0,margin:0,position:"fixed",zIndex:-1,top:0,bottom:0,left:0,right:0,backgroundImage:"url(/assets/img/deathstar-background-purple.jpg)",backgroundRepeat:"repeat-y",backgroundPosition:"center",backgroundSize:"cover",height:"100%"},backgroundFiler:{position:"absolute",top:0,bottom:0,left:0,right:0,zIndex:2,backgroundColor:"rgba(38, 218, 253, .05)"}};return r.a.createElement("div",{style:e.background},r.a.createElement("div",{style:e.backgroundFiler}))},me=(a(326),{puffs1:{width:"100%",height:300,top:"-50%",position:"fixed",zIndex:-1},puffs2:{}}),ue=function(){return r.a.createElement(r.a.Fragment,null,r.a.createElement(d.Puffs,null,r.a.createElement("div",{style:me.puffs1})))},pe=function(){var e={container:{padding:"2rem",maxWidth:600,margin:"0 auto"},title:{textAlign:"center",margin:"1rem"},contentWrapper:{margin:"2rem"}},t=Object(n.useState)(""),a=Object(m.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(""),u=Object(m.a)(o,2),g=u[0],f=u[1],b=Object(n.useState)(null),E=Object(m.a)(b,2),y=E[0],v=E[1],j=Object(n.useState)(!1),x=Object(m.a)(j,2),O=x[0],k=x[1],C=Object(n.useContext)(h).login,w=function(e){"email"===e.target.name?c(e.target.value):"password"===e.target.name&&f(e.target.value)},S=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch("".concat("https://star-trader-server.herokuapp.com","/users/login"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l,password:g})});case 4:return a=e.sent,e.next=7,a.json();case 7:if(!(n=e.sent).error){e.next=11;break}return v(n.error),e.abrupt("return");case 11:C(n.access_token,n.user),k(!0),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(1),alert("Oh no, It looks like there was some force interference causing problems with our server...");case 18:case"end":return e.stop()}}),e,null,[[1,15]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,O?r.a.createElement(p.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement(d.Content,{style:e.container},r.a.createElement(d.Frame,{animate:!0,level:3,corners:4,style:e.frame},r.a.createElement("div",{style:e.contentWrapper},r.a.createElement(d.Heading,{node:"h2",style:e.title},"Log In"),r.a.createElement("div",{style:{padding:".75rem .75rem 1.5rem",textAlign:"center"}},r.a.createElement(d.Words,{animate:!0,layer:"alert"},y||" ")),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:S,style:e.loginForm},r.a.createElement(q,{label:"Email: ",type:"email",name:"email",onChange:w,value:l}),r.a.createElement(q,{label:"Password: ",type:"password",name:"password",onChange:w,value:g}),r.a.createElement("p",{style:{display:"flex",justifyContent:"space-evenly"}},r.a.createElement(d.Button,null,"Log In"),r.a.createElement(d.Button,{onClick:function(){c("lukeskywalker@aol.com"),f("force1")}},"Demo User"))))))),r.a.createElement(ue,null)))},de=a(38),ge=a.n(de),fe=function(){var e={container:{padding:"2rem",maxWidth:600,margin:"0 auto"},title:{textAlign:"center",margin:"1rem"},contentWrapper:{margin:"1rem"}},t=Object(n.useState)(""),a=Object(m.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)(""),u=Object(m.a)(o,2),g=u[0],f=u[1],b=Object(n.useState)(""),E=Object(m.a)(b,2),y=E[0],v=E[1],j=Object(n.useState)(""),x=Object(m.a)(j,2),O=x[0],k=x[1],C=Object(n.useState)(1),w=Object(m.a)(C,2),S=w[0],_=w[1],I=Object(n.useState)(""),N=Object(m.a)(I,2),T=N[0],P=N[1],B=Object(n.useState)("rebellion"),F=Object(m.a)(B,2),A=F[0],U=F[1],D=Object(n.useState)([]),H=Object(m.a)(D,2),J=H[0],M=H[1],Y=Object(n.useState)(null),G=Object(m.a)(Y,2),V=G[0],$=G[1],K=Object(n.useState)(!1),Q=Object(m.a)(K,2),X=Q[0],Z=Q[1],ee=Object(n.useContext)(h).login;Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t,a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://star-trader-server.herokuapp.com","/users/species"));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n=a.species,M(n);case 8:case"end":return e.stop()}}),e)})))()}),[]);var te=function(e){"email"===e.target.name?c(e.target.value):"password"===e.target.name?f(e.target.value):"confirmPassword"===e.target.name?v(e.target.value):"name"===e.target.name?k(e.target.value):"species"===e.target.name?_(e.target.value):"bio"===e.target.name?P(e.target.value):"faction"===e.target.name&&("rebellion"===e.target.value?U("rebellion"):U("empire"))},ae=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),console.table(l,g,y,O,S,T,A),g!==y&&($("It looks like you entered 2 different passwords. Please reenter your password the same in both fields and try again."),f(""),v(""),document.getElementsByName("password")[0].value="",document.getElementsByName("confirmPassword")[0].value=""),e.prev=3,e.next=6,fetch("".concat("https://star-trader-server.herokuapp.com","/users/create"),{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:l,password:g,name:O,species:S,bio:T,faction:"rebellion"===A,user_image:"https://upload.wikimedia.org/wikipedia/en/4/4b/Jjportrait.jpg"})});case 6:return a=e.sent,e.next=9,a.json();case 9:if(!(n=e.sent).error){e.next=13;break}return $(n.error),e.abrupt("return");case 13:ee(n.access_token,n.user),Z(!0),e.next=20;break;case 17:e.prev=17,e.t0=e.catch(3),alert("Oh no, it looks like there was some force interference causing problems with our server. Please try again later.");case 20:case"end":return e.stop()}}),e,null,[[3,17]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,X?r.a.createElement(p.a,{to:"/"}):r.a.createElement("div",null,r.a.createElement(d.Content,{style:e.container},r.a.createElement(ge.a,{animate:!0,level:3,corners:4,style:e.frame},r.a.createElement("div",{style:e.contentWrapper},r.a.createElement(d.Heading,{node:"h2",style:e.title},"Sign Up"),r.a.createElement("div",{style:{padding:".75rem .75rem 1.5rem",textAlign:"center"}},r.a.createElement(d.Words,{animate:!0,layer:"alert"},V||" ")),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:ae,style:e.loginForm},r.a.createElement(q,{label:"Email: ",type:"email",name:"email",onChange:te,required:!0}),r.a.createElement(q,{label:"Name: ",type:"text",name:"name",onChange:te,required:!0}),r.a.createElement(q,{label:"Password: ",type:"password",name:"password",onChange:te,required:!0}),r.a.createElement(q,{label:"Confirm password: ",type:"password",name:"confirmPassword",onChange:te,required:!0}),r.a.createElement(W,{label:"Species: ",name:"species",onChange:te,options:J,optionValueId:"id",optionInnerContent:"species_type",required:!0}),r.a.createElement("p",{style:{padding:".5rem 0"}},r.a.createElement(L,{label:"Faction: ",required:!0}),r.a.createElement(R,{name:"faction",value:"rebellion",checked:"rebellion"===A,onChange:te,label:"Rebellion"}),r.a.createElement(R,{name:"faction",value:"empire",checked:"empire"===A,onChange:te,label:"Empire"})),r.a.createElement(z,{label:"Bio: ",type:"textarea",name:"bio",onChange:te,required:!0}),r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement(d.Button,null,"Sign Up"))))))),r.a.createElement(ue,null)))},he=function(){var e={container:{padding:"2rem",maxWidth:600,margin:"0 auto"},title:{textAlign:"center",margin:"1rem"},contentWrapper:{margin:"1rem"}},t=Object(n.useState)(),a=Object(m.a)(t,2),l=a[0],c=a[1],o=Object(n.useState)([]),u=Object(m.a)(o,2),g=u[0],f=u[1],b=Object(n.useState)(1),E=Object(m.a)(b,2),y=E[0],v=E[1],j=Object(n.useState)(null),x=Object(m.a)(j,2),O=x[0],k=x[1],C=Object(n.useState)(0),w=Object(m.a)(C,2),S=w[0],_=w[1],I=Object(n.useState)(0),N=Object(m.a)(I,2),T=N[0],P=N[1],B=Object(n.useState)(""),F=Object(m.a)(B,2),A=F[0],U=F[1],D=Object(n.useState)("true"),H=Object(m.a)(D,2),J=H[0],M=H[1],Y=Object(n.useState)(null),G=Object(m.a)(Y,2),V=G[0],$=G[1],K=Object(n.useContext)(h),Q=K.user.id,X=K.token;Object(n.useEffect)((function(){Object(s.a)(i.a.mark((function e(){var t,a,n,r;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat("https://star-trader-server.herokuapp.com","/ships/types"));case 2:return t=e.sent,e.next=5,t.json();case 5:a=e.sent,n=a.ship_types,r=n.filter((function(e){return!1===e.unique})),f(r),v(r[0].id);case 10:case"end":return e.stop()}}),e)})))()}),[]);var Z=function(e){switch(e.target.name){case"ship_type":v(e.target.value);break;case"custom_name":k(e.target.value);break;case"sale_price":_(e.target.value);break;case"lightyears_traveled":P(e.target.value);break;case"for_sale":M(e.target.value);break;case"seller_comment":U(e.target.value);break;default:return}},ee=function(){var e=Object(s.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),e.prev=1,e.next=4,fetch("".concat("https://star-trader-server.herokuapp.com","/ships/create"),{method:"POST",headers:{"Content-Type":"application/json",Authorization:X},body:JSON.stringify({ship_type:y,custom_name:O,sale_price:parseInt(S),lightyears_traveled:parseInt(T),seller_comment:A,for_sale:"true"===J,owner:Q})});case 4:return a=e.sent,e.next=7,a.json();case 7:if(!(n=e.sent).error){e.next=13;break}return $(n.error),e.abrupt("return");case 13:console.log(n),c(n.starship);case 15:e.next=20;break;case 17:e.prev=17,e.t0=e.catch(1),alert("Oh no, it looks like there was some force interference causing problems with our server. Please try again later.");case 20:case"end":return e.stop()}}),e,null,[[1,17]])})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",null,l?r.a.createElement(p.a,{to:"/listings/".concat(l.id)}):r.a.createElement(d.Content,{style:e.container},r.a.createElement(ge.a,{animate:!0,level:3,corners:4,style:e.frame},r.a.createElement("div",{style:e.contentWrapper},r.a.createElement(d.Heading,{node:"h2",style:e.title},"Sell Your Starship"),r.a.createElement("div",{style:{padding:".75rem .75rem 1.5rem",textAlign:"center"}},r.a.createElement(d.Words,{animate:!0,layer:"alert"},V||" ")),r.a.createElement("div",null,r.a.createElement("form",{onSubmit:ee,style:e.loginForm},r.a.createElement(W,{label:"Ship Type: ",name:"ship_type",onChange:Z,options:g,optionValueId:"id",optionInnerContent:"type_name",required:!0}),r.a.createElement(q,{label:"Custom Name: ",type:"text",name:"custom_name",onChange:Z}),r.a.createElement(q,{label:"Price: ",type:"number",name:"sale_price",onChange:Z,required:!0}),r.a.createElement(q,{label:"Lightyears Traveled: ",type:"number",name:"lightyears_traveled",onChange:Z,required:!0}),r.a.createElement("p",{style:{padding:".5rem 0"}},r.a.createElement(L,{label:"For Sale: ",required:!0}),r.a.createElement(R,{name:"for_sale",value:"true",checked:"true"===J,onChange:Z,label:"Yes"}),r.a.createElement(R,{name:"for_sale",value:"false",checked:"false"===J,onChange:Z,label:"Not Right Now"})),r.a.createElement(z,{label:"Comment: ",type:"textarea",name:"seller_comment",onChange:Z}),r.a.createElement("p",{style:{textAlign:"center"}},r.a.createElement(d.Button,null,"List Ship"))))))))};var be=function(){return r.a.createElement(d.ThemeProvider,{theme:Object(d.createTheme)()},r.a.createElement(r.a.Fragment,null,r.a.createElement(d.Arwes,null,r.a.createElement(u.a,null,r.a.createElement("div",{style:{minHeight:"91vh"}},r.a.createElement(y,null),r.a.createElement(p.d,null,r.a.createElement(p.b,{exact:!0,path:"/"},r.a.createElement(_,null)),r.a.createElement(p.b,{path:"/listings/:id"},r.a.createElement(re,null)),r.a.createElement(p.b,{path:"/profile/edit"},r.a.createElement(ce,null)),r.a.createElement(p.b,{exact:!0,path:"/profile"},r.a.createElement(ie,{personalProfile:!0})),r.a.createElement(p.b,{path:"/users/:id"},r.a.createElement(ie,null)),r.a.createElement(p.b,{path:"/logout"},r.a.createElement(p.a,{to:"/"})),r.a.createElement(p.b,{path:"/login"},r.a.createElement(pe,null)),r.a.createElement(p.b,{path:"/signup"},r.a.createElement(fe,null)),r.a.createElement(p.b,{path:"/sell-ship"},r.a.createElement(he,null)),r.a.createElement(p.b,{path:"/testing"},r.a.createElement(G,null)),r.a.createElement(p.b,{path:"*"},r.a.createElement("div",null,"404: resource not found :(")))),r.a.createElement(v,null),r.a.createElement(se,null)))))},Ee=function(){var e=Object(n.useState)(localStorage.getItem("token")),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(""),o=Object(m.a)(c,2),u=o[0],p=o[1],d=Object(n.useState)(""),g=Object(m.a)(d,2),f=g[0],b=g[1];Object(n.useEffect)((function(){var e=JSON.parse(localStorage.getItem("id"));e=JSON.parse(e);var t=!0;try{t=!!JSON.parse(a)}catch(n){}e&&t&&Object(s.a)(i.a.mark((function t(){var n,r,l;return i.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("".concat("https://star-trader-server.herokuapp.com","/users/").concat(e),{headers:{"Content-Type":"application/json",Authorization:a}});case 2:return n=t.sent,t.next=5,n.json();case 5:r=t.sent,l=r.user,p(l),b(l.id),localStorage.setItem("user",l);case 10:case"end":return t.stop()}}),t)})))()}),[a]);var E={token:a,user:u,id:f,login:function(e,t){localStorage.setItem("token",e),localStorage.setItem("id",t.id),localStorage.setItem("user",JSON.stringify(t)),l(e),p(t),b(t.id)},logout:function(){localStorage.setItem("token",null),localStorage.setItem("id",null),localStorage.setItem("user",null),l(null),p(null),b(null)}};return r.a.createElement(h.Provider,{value:E},r.a.createElement(be,null))};c.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(Ee,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[186,1,2]]]);
//# sourceMappingURL=main.bc32dd3d.chunk.js.map